% generated from JIRA project LVV
% using template at /usr/share/miniconda/envs/docsteady-env/lib/python3.7/site-packages/docsteady/templates/tpr.latex.jinja2.
% using docsteady version 2.2.3
% Please do not edit -- update information in Jira instead
\documentclass[DM,STR,toc]{lsstdoc}
\usepackage{geometry}
\usepackage{longtable,booktabs}
\usepackage{enumitem}
\usepackage{arydshln}
\usepackage{attachfile}
\usepackage{array}
\usepackage{dashrule}

\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}p{#1}}

\input meta.tex

\newcommand{\attachmentsUrl}{https://github.com/\gitorg/\lsstDocType-\lsstDocNum/blob/\gitref/attachments}
\providecommand{\tightlist}{
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

\setcounter{tocdepth}{4}

\begin{document}

\def\milestoneName{RSP redeployed on the Interim Data Facility (IDF), ready for DP0.1}
\def\milestoneId{LDM-503-14a}
\def\product{LSP Services}

\setDocCompact{true}

\title{LDM-503-14a: RSP redeployed on the Interim Data Facility (IDF), ready
for DP0.1 Test Plan and Report}
\setDocRef{\lsstDocType-\lsstDocNum}
\date{ 2021-10-04 }
\author{ Gregory Dubois-Felsmann }

\input{history_and_info.tex}


\setDocAbstract{
This is the test plan and report for
\textbf{ RSP redeployed on the Interim Data Facility (IDF), ready for DP0.1} (LDM-503-14a),
an LSST milestone pertaining to the Data Management Subsystem.\\
This document is based on content automatically extracted from the Jira test database on \docDate.
The most recent change to the document repository was on \vcsDate.
}


\maketitle

\section{Introduction}
\label{sect:intro}


\subsection{Objectives}
\label{sect:objectives}

 Demonstrate that the end-of-FY2020 capabilities of the Rubin Science
Platform have been made available on the Interim Data Facility, and that
DP0.1, based on ingested externally-provided DC2 data, can be supported.
~May be demonstrated with the DC2 DP0.1 dataset itself or with a dataset
of equivalent complexity.\\[2\baselineskip]DP0.1 expectations are as
described in \href{https://rtn-001.lsst.io/}{RTN-001} and
\href{https://rtn-004.lsst.io/}{RTN-004} .



\subsection{System Overview}
\label{sect:systemoverview}



\subsection{Document Overview}
\label{sect:docoverview}

This document was generated from Jira, obtaining the relevant information from the
\href{https://jira.lsstcorp.org/secure/Tests.jspa\#/testPlan/LVV-P79}{LVV-P79}
~Jira Test Plan and related Test Cycles (
\href{https://jira.lsstcorp.org/secure/Tests.jspa\#/testCycle/LVV-C166}{LVV-C166}
).

Section \ref{sect:intro} provides an overview of the test campaign, the system under test (\product{}),
the applicable documentation, and explains how this document is organized.
Section \ref{sect:testplan} provides additional information about the test plan, like for example the configuration
used for this test or related documentation.
Section \ref{sect:personnel} describes the necessary roles and lists the individuals assigned to them.

Section \ref{sect:overview} provides a summary of the test results, including an overview in Table \ref{table:summary},
an overall assessment statement and suggestions for possible improvements.
Section \ref{sect:detailedtestresults} provides detailed results for each step in each test case.

The current status of test plan \href{https://jira.lsstcorp.org/secure/Tests.jspa\#/testPlan/LVV-P79}{LVV-P79} in Jira is \textbf{ Approved }.

\subsection{References}
\label{sect:references}
\renewcommand{\refname}{}
\bibliography{lsst,refs,books,refs_ads,local}


\newpage
\section{Test Plan Details}
\label{sect:testplan}


\subsection{Data Collection}

  Observing is not required for this test campaign.

\subsection{Verification Environment}
\label{sect:hwconf}
  Must be executed in a well-documented controlled state of the IDF.




\subsection{Related Documentation}


\begin{longtable}{rp{10cm}l}
\multicolumn{3}{c}{Jira Attachments} \\ \hline
 To LVV-C166 results &
  ScreenShot2021-10-01at08.09.52.png & \attachfile{attachments/ScreenShot2021-10-01at08.09.52.png}\\ \hline
 To LVV-C166 results &
  ScreenShot2021-10-01at08.06.45.png & \attachfile{attachments/ScreenShot2021-10-01at08.06.45.png}\\ \hline
To LVV-C166 results &
  LDM-503-14a-portal-plot.png & \attachfile{attachments/LDM-503-14a-portal-plot.png}\\ \hline
To LVV-C166 results &
  ScreenShot2021-10-01at07.33.59.png & \attachfile{attachments/ScreenShot2021-10-01at07.33.59.png}\\ \hline
To LVV-C166 results &
  xz1o60x1tpg1vvv6.xml & \attachfile{attachments/xz1o60x1tpg1vvv6.xml}\\ \hline
   \end{longtable}

All documents provided as attachments in Jira are downloaded to Github and linked here for convenience.
However, since they are not properly versioned, they should be considered informal and therefore
not be part of the verification baseline.


\subsection{PMCS Activity}

Primavera milestones related to the test campaign:
\begin{itemize}
\item LDM-503-14a
\end{itemize}


\newpage
\section{Personnel}
\label{sect:personnel}

The personnel involved in the test campaign is shown in the following table.

{\small
\begin{longtable}{p{3cm}p{3cm}p{3cm}p{6cm}}
\hline
\multicolumn{2}{r}{T. Plan \href{https://jira.lsstcorp.org/secure/Tests.jspa\#/testPlan/LVV-P79}{LVV-P79} owner:} &
\multicolumn{2}{l}{\textbf{ Gregory Dubois-Felsmann } }\\\hline
\multicolumn{2}{r}{T. Cycle \href{https://jira.lsstcorp.org/secure/Tests.jspa\#/testCycle/LVV-C166}{LVV-C166} owner:} &
\multicolumn{2}{l}{\textbf{
Gregory Dubois-Felsmann }
} \\\hline
\textbf{Test Cases} & \textbf{Assigned to} & \textbf{Executed by} & \textbf{Additional Test Personnel} \\ \hline
\href{https://jira.lsstcorp.org/secure/Tests.jspa#/testCase/LVV-T2171}{LVV-T2171}
& {\small Gregory Dubois-Felsmann } & {\small Gregory Dubois-Felsmann } &
\begin{minipage}[]{6cm}
\smallskip
{\small Someone with credentials allowing access to the instance of the RSP at
the IDF on which the data are deployed. }
\medskip
\end{minipage}
\\ \hline
\href{https://jira.lsstcorp.org/secure/Tests.jspa#/testCase/LVV-T2172}{LVV-T2172}
& {\small Gregory Dubois-Felsmann } & {\small Gregory Dubois-Felsmann } &
\begin{minipage}[]{6cm}
\smallskip
{\small  }
\medskip
\end{minipage}
\\ \hline
\end{longtable}
}

\newpage

\section{Test Campaign Overview}
\label{sect:overview}

\subsection{Summary}
\label{sect:summarytable}

{\small
\begin{longtable}{p{2cm}cp{2.3cm}p{8.6cm}p{2.3cm}}
\toprule
\multicolumn{2}{r}{ T. Plan \href{https://jira.lsstcorp.org/secure/Tests.jspa\#/testPlan/LVV-P79}{LVV-P79}:} &
\multicolumn{2}{p{10.9cm}}{\textbf{ LDM-503-14a: RSP redeployed on the Interim Data Facility (IDF), ready
for DP0.1 }} & Approved \\\hline
\multicolumn{2}{r}{ T. Cycle \href{https://jira.lsstcorp.org/secure/Tests.jspa\#/testCycle/LVV-C166}{LVV-C166}:} &
\multicolumn{2}{p{10.9cm}}{\textbf{ LDM-503-14a: Test RSP capabilities on IDF for DP0.1 readiness }} & Done \\\hline
\textbf{Test Cases} &  \textbf{Ver.} & \textbf{Status} & \textbf{Comment} & \textbf{Issues} \\\toprule
\href{https://jira.lsstcorp.org/secure/Tests.jspa#/testCase/LVV-T2171}{LVV-T2171}
&  1
& Pass &
\begin{minipage}[]{9cm}
\smallskip
Of the requirements covered by this test case, the following should be
regarded as substantively verified:

\begin{itemize}
\tightlist
\item
  DMS-NB-REQ-0007 (Pre-installed Containerized Software Releases)
\item
  DMS-NB-REQ-0017 (Access to the API and Portal Aspects) - This test
  demonstrates that the connections can be made conveniently to the
  other Aspects (to TAP and to Firefly image visualization,
  respectively), and that is sufficient to verify the requirement. ~The
  details of what services are then usable is a matter for the
  requirements on those services themselves.
\item
  DMS-NB-REQ-0030 (Access to Portal Visualization API)
\item
  DMS-NB-REQ-0032 (Image Visualization)
\item
  DMS-PRTL-REQ-0098 (Overlay Catalog of Sources and Objects on Images) -
  Verified as far as its use via Portal APIs from the Notebook Aspect is
  concerned.
\end{itemize}

The remainder should be regarded as partially verified, successfully as
far as this test could determine, but still needing more comprehensive
testing:

\begin{itemize}
\tightlist
\item
  DMS-NB-REQ-0001 (Secure Protocol) - Additional tests should more
  directly verify that the Notebook Aspect is \emph{consistently} using
  secure connections
\item
  DMS-NB-REQ-0005 (Interactive Python Environment) - A further test
  should verify that a Python shell is available in addition to the
  notebook interface
\item
  DMS-NB-REQ-0009 (Data Access Middleware Availability) - A further test
  should verify the usability of the Butler to \emph{write} output
  datasets in the Notebook Aspect
\end{itemize}
\medskip
\end{minipage}
&   \href{https://jira.lsstcorp.org/browse/DM-32003}{DM-32003}
\href{https://jira.lsstcorp.org/browse/DM-32004}{DM-32004}
\href{https://jira.lsstcorp.org/browse/DM-32003}{DM-32003}
\href{https://jira.lsstcorp.org/browse/DM-32004}{DM-32004}
\\\hline
\href{https://jira.lsstcorp.org/secure/Tests.jspa#/testCase/LVV-T2172}{LVV-T2172}
&  1
& Pass &
\begin{minipage}[]{9cm}
\smallskip
Portal version 2.3.3, executed on Safari 14.1.2 from a Mac on the public
Internet, no VPN.\\[2\baselineskip]Of the requirements covered by this
test case, the following should be regarded as substantively verified:

\begin{itemize}
\tightlist
\item
  DMS-PRTL-REQ-0015 (Generic Query)
\item
  DMS-PRTL-REQ-0016 (Generic Query - Form Based)
\item
  DMS-PRTL-REQ-0020 (Positional Query: Position on the Sky) - NB: Since
  only equatorial coordinates were tested, the related
  DMS-PRTL-REQ-0022, which is about the range of coordinate systems
  accepted, was not verified.
\item
  DMS-PRTL-REQ-0026 (Positional Query by Region: Cone-Search)
\item
  DMS-PRTL-REQ-0049 (Display of Tabular Data)
\item
  DMS-PRTL-REQ-0050 (Column Selection of Tabular Data)
\item
  DMS-PRTL-REQ-0054 (Paging of Tabular Data)
\item
  DMS-PRTL-REQ-0055 (XY Scatter Plots)
\item
  DMS-PRTL-REQ-0098 (Overlay Catalog of Sources and Objects on Images) -
  Also covered by LVV-T2171 in this same test cycle.
\item
  DMS-PRTL-REQ-0106 (Linked Tables, Plots, and Images)
\end{itemize}

The following should be regarded as partially verified, successfully as
far as this test could determine, but still needing more comprehensive
testing:

\begin{itemize}
\tightlist
\item
  DMS-LSP-REQ-0010 (Transfer of Portal Data References to Notebook) -
  Only the Portal side of this was covered by this test case. ~However,
  note that the tests done under LDM-503-10a (test cycle LVV-C85)
  already provided a more comprehensive verification of this
  requirement.
\item
  DMS-LSP-REQ-0014 (Download Data) - Only verified as far as downloading
  a tabular data result from the Portal Aspect is concerned.
  ~Downloading data from the Notebook Aspect should also be checked, and
  downloading data, regardless of Aspect, from the User File Workspace
  and User Database Workspace, should also be checked.
\item
  DMS-PRTL-REQ-0076 (Image Plot Overlays) - Verified for astrophysical
  coordinates in both direct Portal usage and in
  Portal-used-from-Notebook visualization. ~Not verified for pixel
  coordinates in pure Portal usage. ~Demonstrated via afw.display for
  pixel coordinates in Portal-used-from-Notebook visualization.
\item
  DMS-PRTL-REQ-0090 (Simple Filtering of Tabular Data) - Partially
  covered by the basic tests done, but should be subjected to a test
  more focused on this particular behavior.
\item
  DMS-PRTL-REQ-0092 (Filtering of Tabular Data by Multiple Columns) -
  Partially covered by the basic tests done, but should be subjected to
  a test more focused on this particular behavior.
\item
  DMS-PRTL-REQ-0095 (Saving Displayed Tabular Data) - Partially covered
  by this test case. ~More comprehensively covered previously by
  LDM-503-10a (LVV-C85) and ready for review based on that.
\item
  DMS-PRTL-REQ-0107 (Data Selection from a Plot or Image) - Verified but
  only for rectangular selections, not arbitrary polygons.
\end{itemize}

The following requirements were not found to be fully satisfied by this
test case at this time, and will need re-verification at a future
date:\\

\begin{itemize}
\tightlist
\item
  DMS-LSP-REQ-0017 (Tabular Data Download File Formats) - Only checked
  against Portal Aspect table downloads; in this usage, no option for
  FITS binary table download was presented (except as the payload of a
  VOTable with FITS as its internal format). ~Not checked for direct API
  Aspect (i.e., TAP) access.
\end{itemize}
\medskip
\end{minipage}
&   \href{https://jira.lsstcorp.org/browse/DM-31999}{DM-31999}
\href{https://jira.lsstcorp.org/browse/DM-32000}{DM-32000}
\href{https://jira.lsstcorp.org/browse/DM-32001}{DM-32001}
\href{https://jira.lsstcorp.org/browse/DM-31999}{DM-31999}
\href{https://jira.lsstcorp.org/browse/DM-32000}{DM-32000}
\href{https://jira.lsstcorp.org/browse/DM-32001}{DM-32001}
\\\hline
\caption{Test Campaign Summary}
\label{table:summary}
\end{longtable}
}

\subsection{Overall Assessment}
\label{sect:overallassessment}

Not yet available.

\subsection{Recommended Improvements}
\label{sect:recommendations}

Not yet available.

\newpage
\section{Detailed Test Results}
\label{sect:detailedtestresults}

\subsection{Test Cycle LVV-C166 }

Open test cycle {\it \href{https://jira.lsstcorp.org/secure/Tests.jspa#/testrun/LVV-C166}{LDM-503-14a: Test RSP capabilities on IDF for DP0.1 readiness}} in Jira.

Test Cycle name: LDM-503-14a: Test RSP capabilities on IDF for DP0.1 readiness\\
Status: Done

This test cycle contains the tests necessary to verify the readiness of
the RSP as redeployed on the IDF to meet the needs of the DP0.1
exercise, essentially repeating tests previously carried out on the NCSA
RSP deployments.

\subsubsection{Software Version/Baseline}
Not provided.

\subsubsection{Configuration}
Not provided.

\subsubsection{Test Cases in LVV-C166 Test Cycle}

\paragraph{ LVV-T2171 - LDM-503-14a: Notebook Aspect access to a DP0.1 dataset in the
IDF-deployed RSP }\mbox{}\\

Version \textbf{1}.
Open  \href{https://jira.lsstcorp.org/secure/Tests.jspa#/testCase/LVV-T2171}{\textit{ LVV-T2171 } }
test case in Jira.

Verify the availability through the Notebook Aspect of the DP0.1 test
dataset or an equivalent, including access to both catalogs and images
via the Butler.\\[2\baselineskip]

\textbf{ Preconditions}:\\
Creation of the DP0.1 dataset or a stand-in, in the form of a Butler
repository accessible from the Notebook Aspect and with associated
catalog data in a TAP service in the same RSP instance at the IDF.

Execution status: {\bf Pass }

Final comment:\\Of the requirements covered by this test case, the following should be
regarded as substantively verified:

\begin{itemize}
\tightlist
\item
  DMS-NB-REQ-0007 (Pre-installed Containerized Software Releases)
\item
  DMS-NB-REQ-0017 (Access to the API and Portal Aspects) - This test
  demonstrates that the connections can be made conveniently to the
  other Aspects (to TAP and to Firefly image visualization,
  respectively), and that is sufficient to verify the requirement. ~The
  details of what services are then usable is a matter for the
  requirements on those services themselves.
\item
  DMS-NB-REQ-0030 (Access to Portal Visualization API)
\item
  DMS-NB-REQ-0032 (Image Visualization)
\item
  DMS-PRTL-REQ-0098 (Overlay Catalog of Sources and Objects on Images) -
  Verified as far as its use via Portal APIs from the Notebook Aspect is
  concerned.
\end{itemize}

The remainder should be regarded as partially verified, successfully as
far as this test could determine, but still needing more comprehensive
testing:

\begin{itemize}
\tightlist
\item
  DMS-NB-REQ-0001 (Secure Protocol) - Additional tests should more
  directly verify that the Notebook Aspect is \emph{consistently} using
  secure connections
\item
  DMS-NB-REQ-0005 (Interactive Python Environment) - A further test
  should verify that a Python shell is available in addition to the
  notebook interface
\item
  DMS-NB-REQ-0009 (Data Access Middleware Availability) - A further test
  should verify the usability of the Butler to \emph{write} output
  datasets in the Notebook Aspect
\end{itemize}

Issues found during the execution of LVV-T2171 test case:

\begin{itemize}
\item \href{https://jira.lsstcorp.org/browse/DM-32003}{DM-32003}~~Document that using Step numbers in test cases can be misleading

\item \href{https://jira.lsstcorp.org/browse/DM-32004}{DM-32004}~~Firefly ``slate'' in JupyterLab positions uploaded table off-screen

\end{itemize}

Detailed steps results:

\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 1 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
In the following step:

\begin{enumerate}
\tightlist
\item
  Note that the URL for the IDF-deployed RSP, provided as test data
  here, is not the NCSA one in the included-by-reference test case
  LVV-T837.
\item
  Please record the options for available releases presented when the
  Notebook Aspect is starting up.
\end{enumerate}

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Test Data \\
 {\footnotesize
https://data.lsst.cloud/

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize
Availability of a set of predefined releases is relevant to the
verification of DMS-NB-REQ-0007 (Pre-installed Containerized Software
Releases).

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize

}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 2 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Authenticate to the notebook aspect of the LSST Science Platform
(NB-LSP). ~This is currently at
https://lsst-lsp-stable.ncsa.illinois.edu/nb.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize
Redirection to the spawner page of the NB-LSP allowing selection of the
containerized stack version and machine flavor.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
Authenticated to data.lsst.cloud using GitHub credentials.

}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 3 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Spawn a container by:\\
1) choosing an appropriate stack version: e.g. the latest weekly.\\
2) choosing an appropriate machine flavor: e.g. medium\\
3) click ``Spawn''

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize
Redirection to the JupyterLab environment served from the chosen
container containing the correct stack version.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
Used ``Recommended (Weekly 2021\_33)''. ~Other available versions in
attached image.

}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 4 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Record the full URL including scheme of the Notebook Aspect interface in
the browser.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize
The URL should begin with ``https:''. ~This addresses requirement
DMS-NB-REQ-0001 (Secure Protocol).

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
``https://data.lsst.cloud/nb/user/gpdf/lab?''

}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 5 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Use the file browser on the left of the JupyterLab UI to open the ``LSST
Catalog Access Tutorial'' notebook.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize
Execution of this notebook and the one in Step 5 provide test coverage
for the ``notebook interface'' part of the requirement DMS-NB-REQ-0005
(Interactive Python Environment).

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
Note error in instructions - the correct notebook is
``DC2\_catalog\_access'', from the system-test directory, modified for
the DC2 dataset. ~\\[2\baselineskip]Note that the reference to ``Step
5'' above is to a step in the as-written script, but in the
as-displayed-in-test-runner script, it's Step 7 because of the expansion
of a nested test case.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Issues found executing this step:  \\
{\footnotesize
\begin{itemize}
\item \href{https://jira.lsstcorp.org/browse/DM-32003}{DM-32003}~~Document that using Step numbers in test cases can be misleading

\end{itemize}
}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 6 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Execute the notebook. ~Take note of any errors encountered along the
way.\\[2\baselineskip]Record explicitly that API Aspect TAP queries were
performed.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize
Access to the API Aspect's TAP service provides partial test coverage
for DMS-NB-REQ-0017 ({Access to the API and Portal Aspects).}

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
In cell 1's output, the text\\

\begin{verbatim}
Patching auth into notebook.base.handlers.IPythonHandler(notebook.base.handlers.AuthenticatedHandler) -> IPythonHandler(jupyterhub.singleuser.mixins.HubAuthenticatedHandler, notebook.base.handlers.AuthenticatedHandler
\end{verbatim}

is shown with a red background as if it were an error, but it is a
normal part of the operation of the code.\\[2\baselineskip]The expected
schemas, including ``dp01\_dc2\_catalogs'', are shown in cells 2 and
3.\\
The five expected DP0.1 tables are shown in cell 4.\\
The cone and polygon searches were successful.\\
The async search was successful. ~Full pass.

}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 7 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Use the file browser on the left of the JupyterLab UI to open the
``Firefly'' notebook.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
Opened as expected.

}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 8 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Execute the notebook. ~Take note of any errors encountered along the
way.\\[2\baselineskip]Record explicitly the interaction with the Butler
in this test notebook.\\[2\baselineskip]Record explicitly the use of
afw.display and the observation of images being displayed using the
Portal (Firefly) tools.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize
Successful use of the Butler provides test coverage for DMS-NB-REQ-0009
(Data Access Middleware Availability).\\[2\baselineskip]Availability of
afw.display in the notebook and its use to visualize an image obtained
from the Butler provides test coverage for DMS-NB-REQ-0032 (Image
Visualization).\\[2\baselineskip]Successful use of the Portal for image
visualization provides test coverage for DMS-NB-REQ-0030 (Access to
Portal Visualization API).

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
The Butler provided two test images' dataIds, and the retrieval of the
selected one was successful.\\
afw.display was used to produce an image display in the Firefly
extension.\\
Masks were successfully displayed and the Firefly mask menu matched the
output in the notebook.\\
afw.display was successfully used to overlay catalog data on the
image.\\
Separately, firefly\_client was successfully used to overlay a browsable
table on the image and create a plot.\\
The known problem with the initial positioning of the table in the
Firefly extension window (cell 19 of the test) was observed. ~This is
not sufficiently severe to merit a ``pass with deviation'', as this use
of the Firefly API is beyond the requirements coverage of this test, but
it has been reported as a ticket and will be addressed.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Issues found executing this step:  \\
{\footnotesize
\begin{itemize}
\item \href{https://jira.lsstcorp.org/browse/DM-32004}{DM-32004}~~Firefly ``slate'' in JupyterLab positions uploaded table off-screen

\end{itemize}
}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 9 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Log out of the Notebook Aspect.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize

}

\paragraph{ LVV-T2172 - LDM-503-14a: Portal Aspect access to a DP0.1 dataset in the IDF-deployed
RSP }\mbox{}\\

Version \textbf{1}.
Open  \href{https://jira.lsstcorp.org/secure/Tests.jspa#/testCase/LVV-T2172}{\textit{ LVV-T2172 } }
test case in Jira.

Verify the availability through the Portal Aspect to catalog data from
the DP0.1 test dataset or an equivalent, via an RSP TAP service on the
IDF. ~The emphasis will be on an Object-like catalog.\\[2\baselineskip]

\textbf{ Preconditions}:\\
Creation of the DP0.1 dataset or a stand-in, and service of the
associated catalog data and schema in a TAP service in the same RSP
instance at the IDF.

Execution status: {\bf Pass }

Final comment:\\Portal version 2.3.3, executed on Safari 14.1.2 from a Mac on the public
Internet, no VPN.\\[2\baselineskip]Of the requirements covered by this
test case, the following should be regarded as substantively verified:

\begin{itemize}
\tightlist
\item
  DMS-PRTL-REQ-0015 (Generic Query)
\item
  DMS-PRTL-REQ-0016 (Generic Query - Form Based)
\item
  DMS-PRTL-REQ-0020 (Positional Query: Position on the Sky) - NB: Since
  only equatorial coordinates were tested, the related
  DMS-PRTL-REQ-0022, which is about the range of coordinate systems
  accepted, was not verified.
\item
  DMS-PRTL-REQ-0026 (Positional Query by Region: Cone-Search)
\item
  DMS-PRTL-REQ-0049 (Display of Tabular Data)
\item
  DMS-PRTL-REQ-0050 (Column Selection of Tabular Data)
\item
  DMS-PRTL-REQ-0054 (Paging of Tabular Data)
\item
  DMS-PRTL-REQ-0055 (XY Scatter Plots)
\item
  DMS-PRTL-REQ-0098 (Overlay Catalog of Sources and Objects on Images) -
  Also covered by LVV-T2171 in this same test cycle.
\item
  DMS-PRTL-REQ-0106 (Linked Tables, Plots, and Images)
\end{itemize}

The following should be regarded as partially verified, successfully as
far as this test could determine, but still needing more comprehensive
testing:

\begin{itemize}
\tightlist
\item
  DMS-LSP-REQ-0010 (Transfer of Portal Data References to Notebook) -
  Only the Portal side of this was covered by this test case. ~However,
  note that the tests done under LDM-503-10a (test cycle LVV-C85)
  already provided a more comprehensive verification of this
  requirement.
\item
  DMS-LSP-REQ-0014 (Download Data) - Only verified as far as downloading
  a tabular data result from the Portal Aspect is concerned.
  ~Downloading data from the Notebook Aspect should also be checked, and
  downloading data, regardless of Aspect, from the User File Workspace
  and User Database Workspace, should also be checked.
\item
  DMS-PRTL-REQ-0076 (Image Plot Overlays) - Verified for astrophysical
  coordinates in both direct Portal usage and in
  Portal-used-from-Notebook visualization. ~Not verified for pixel
  coordinates in pure Portal usage. ~Demonstrated via afw.display for
  pixel coordinates in Portal-used-from-Notebook visualization.
\item
  DMS-PRTL-REQ-0090 (Simple Filtering of Tabular Data) - Partially
  covered by the basic tests done, but should be subjected to a test
  more focused on this particular behavior.
\item
  DMS-PRTL-REQ-0092 (Filtering of Tabular Data by Multiple Columns) -
  Partially covered by the basic tests done, but should be subjected to
  a test more focused on this particular behavior.
\item
  DMS-PRTL-REQ-0095 (Saving Displayed Tabular Data) - Partially covered
  by this test case. ~More comprehensively covered previously by
  LDM-503-10a (LVV-C85) and ready for review based on that.
\item
  DMS-PRTL-REQ-0107 (Data Selection from a Plot or Image) - Verified but
  only for rectangular selections, not arbitrary polygons.
\end{itemize}

The following requirements were not found to be fully satisfied by this
test case at this time, and will need re-verification at a future
date:\\

\begin{itemize}
\tightlist
\item
  DMS-LSP-REQ-0017 (Tabular Data Download File Formats) - Only checked
  against Portal Aspect table downloads; in this usage, no option for
  FITS binary table download was presented (except as the payload of a
  VOTable with FITS as its internal format). ~Not checked for direct API
  Aspect (i.e., TAP) access.
\end{itemize}

Issues found during the execution of LVV-T2172 test case:

\begin{itemize}
\item \href{https://jira.lsstcorp.org/browse/DM-31999}{DM-31999}~~Fix nested utility test cases with explicit references to the NCSA RSP

\item \href{https://jira.lsstcorp.org/browse/DM-32000}{DM-32000}~~Firefly: incorrect double-click for negative floating-point numbers

\item \href{https://jira.lsstcorp.org/browse/DM-32001}{DM-32001}~~Investigate VOTable output format versions available in Firefly

\end{itemize}

Detailed steps results:

\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 1 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Navigate to the Portal Aspect endpoint. ~The stable version should be
used for this test and is currently located at:
https://lsst-lsp-stable.ncsa.illinois.edu/portal/app/ .

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize
A credential-entry screen should be displayed.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
Used https://data.lsst.cloud for this - the NCSA URL was in a old nested
test case used for this test without realizing the address was embedded.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Issues found executing this step:  \\
{\footnotesize
\begin{itemize}
\item \href{https://jira.lsstcorp.org/browse/DM-31999}{DM-31999}~~Fix nested utility test cases with explicit references to the NCSA RSP

\end{itemize}
}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 2 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Enter a valid set of credentials for an LSST user with LSP access on the
instance under test.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize
The Portal Aspect UI should be displayed following authentication.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
Used the tester's GitHub credentials for IDF login.

}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 3 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Navigate to the TAP Search screen

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
TAP search remains the default screen.

}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 4 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Ensure that the TAP service internal to the RSP instance is selected.
(This should be the default choice.)\\[2\baselineskip]Record the list of
available table collections (``schemas'').

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize
A list of ``schemas'' available on that service should be displayed,
along with a list of tables in the default schema.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
RSP-internal TAP service was indeed the default
(https://data.lsst.cloud/api/tap).\\
Schemas:

\begin{itemize}
\tightlist
\item
  dp01\_dc2\_catalogs (default selection), with tables:

  \begin{itemize}
  \tightlist
  \item
    object (default selection)
  \item
    truth\_match
  \item
    position
  \item
    reference
  \item
    forced\_photometry
  \end{itemize}
\item
  tap\_schema
\item
  uws
\end{itemize}

}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 5 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Select the TAP table collection / ``schema'' for the data to be queried
(see test parameter).\\[2\baselineskip]Record the list of available
tables in that schema.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Test Data \\
 {\footnotesize
{dp01\_dc2\_catalogs}⁠~

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize
A list of tables in the selected schema should be
displayed.\\[2\baselineskip]The ability to query any table from the list
of schemas and tables is intended to satisfy DMS-PRTL-REQ-0015 (Generic
Query).

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
As an experiment, was able to switch to tap\_schema schema and see the
standard five tables.\\
Switched back to the required schema and saw the same tables noted in
step 4 above.

}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 6 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Select the catalog table to be queried (see test parameter).

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Test Data \\
 {\footnotesize
{object}⁠~

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize
A search interface for the selected table should be
presented.\\[2\baselineskip]This interface is intended to satisfy
DMS-PRTL-REQ-0016 (Generic Query - Form-Based).

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
``object'' selected.\\
``Spatial'' query form displayed unchecked but expanded (correct);
``Temporal'' unexpanded (correct).\\
Column-selection-and-constraint form displayed with a subset of columns
preselected, as expected.

}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 7 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Enter the sky coordinates of the location to be tested (see test
parameter) in the ``Spatial'' query-builder element on the left of the
screen.\\
(Note that the test dataset is likely to be of limited extent on the
sky.) Enter 100 arcseconds as the search radius.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Test Data \\
 {\footnotesize
{(60,-35)}⁠~

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize
The cone-search form query interface tested here is intended to satisfy
DMS-PRTL-REQ-0020 (Positional Query: Position on the Sky) and
DMS-PRTL-REQ-0026 (Positional Query by Region: Cone-Search).

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
Coordinate-selection box help changed as expected to show the
sexagesimal equivalent of the coordinates entered.\\
``Spatial'' selector checkbox automatically selected once valid
coordinates entered, as expected.

}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 8 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Verify that a list of available columns is displayed on the right of the
search screen. ~Note in the test report whether a subset of the
available columns is highlighted with a check mark, and if so which
columns they are.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
Column list with units and descriptions displayed.\\
``objectId'', ``parentObjectId'', ``ra'', and ``dec'' displayed at the
top and selected. Remainder of columns in alphabetical order.\\
Following subset checked:

\begin{itemize}
\tightlist
\item
  blendedness
\item
  clean
\item
  cModelFlux\_flag\_*
\item
  extendedness
\item
  good
\item
  mag\_*\_cModel
\item
  magerr\_*\_cModel
\item
  patch
\item
  snr\_*\_cModel
\item
  tract
\end{itemize}

}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 9 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Execute the search.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize
Possibly after the display of an in-progress indication, a search result
should be displayed in the ``tri-view'' - a coverage image on the upper
left, a default X-Y plot on the upper right, and the tabular query
result on the bottom.\\[2\baselineskip]Note that if the dataset is
simulated, the coverage image may not correspond to the catalog data.
(It is not a requirement of DP0.1 for a coverage image for DESC DC2 to
be created or made available in the Portal Aspect.)\\[2\baselineskip]The
table viewer is intended to satisfy DMS-PRTL-REQ-0049 (Display of
Tabular Data).\\[2\baselineskip]Overplotting of the table on the
coverage image is intended to satisfy DMS-PRTL-REQ-0076 (Image Plot
Overlays) and DMS-PRTL-REQ-0098 (Overlay Catalog of Sources and Objects
on Images). ~Additional aspects of this are tested in subsequent steps.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
Tri-view displayed as expected. ~Default plot is ra (x-axis, reversed)
versus dec (y-axis).

}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 10 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Verify that the query result covers the expected region of sky, and that
the expected set of columns is included in the query result. ~Record the
number of rows returned by the query.\\[2\baselineskip]Record the
identity displayed for the coverage image.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
1,158 rows in query result.\\
Table columns displayed correspond to checkboxes in step 8.\\
``2MASS K\_s'' atlas image cutout used for coverage. Switching to
``HiPS'' displays a 2MASS 3-color image.\\
Table data and image and plot coordinate display confirm the expected
circular search region.\\
Min/max ra, dec: 59.9904647/60.0335178 , -35.0275985/-34.9723076
(obtained via sorting table)\\
Distance-measuring tool confirms \textasciitilde{}200 arcsec diameter.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Issues found executing this step:  \\
{\footnotesize
\begin{itemize}
\item \href{https://jira.lsstcorp.org/browse/DM-32000}{DM-32000}~~Firefly: incorrect double-click for negative floating-point numbers

\end{itemize}
}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 11 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Verify that the set of columns displayed in the table can be modified
using the Table Options dialog available from the ``gears'' button in
the table toolbar.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize
The ability to select a subset of the available columns for viewing is
intended to satisfy DMS-PRTL-REQ-0050 (Column Selection of Tabular
Data).

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
Used dialog to select (via column filter) all ``flag'' columns in the
dialog, and uncheck them in bulk. ~Verified that they disappeared from
the displayed table.

}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 12 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Verify that the table is displayed in a ``paged'' manner. ~Record the
initial page size. ~Verify that the page size can be changed.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize
The ability to display a paged view of a table is intended to satisfy
DMS-PRTL-REQ-0054 (Paging of Tabular Data).

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
Displayed with initial page size of 100. ~Page size changed to 500
(three pages) and 1500 (displaying table all at once) with the expected
results. ~No discernable change in table performance with the increased
size.

}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 13 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Verify that the X-Y plot can be modified to display a user-selected pair
of columns, using the plot options dialog available from the ``gears''
button in the plot toolbar.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize
The scatter plot facility is meant to satisfy DMS-PRTL-REQ-0055 (XY
Scatter Plots).

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
Verified ability to create a plot of (mag\_r\_cModel - mag\_i\_cModel)
versus mag\_r\_cModel.

}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 14 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Verify that highlighted rows in the table, points in the X-Y plot, and
marks on the coverage image are connected.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize
The linkages between highlighted points in the three panes of the
tri-view are intended to satisfy DMS-PRTL-REQ-0106 (Linked Tables,
Plots, and Images).

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
Verified that clicking on points/rows in each view highlighted
corresponding points/rows in the other views.

}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 15 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Verify that selections made in the three panes of the tri-view are
reflected in the other panes.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize
The ability to perform linked selections graphically is intended to
satisfy DMS-PRTL-REQ-0107 (Data Selection from a Plot or
Image).\\[2\baselineskip]The ability to perform selections (by
filtering) on a table satisfies DMS-PRTL-REQ-0090 (Simple Filtering of
Tabular Data) and DMS-PRTL-REQ-0092 (Filtering of Tabular Data by
Multiple Columns).

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
Verified that rectangular selections in the image and/or plot
transferred to checkbox selections in the table after clicking on the
``checkmark'' icon.\\
Verified that checkbox selections in the table were reflected by
(yellow) highlights in the image and plot.

}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 16 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Use the ``diskette'' icon in the table viewer toolbar to save the
tabular query result as an attachment to the test record. ~Use the
VOTable ``TableData'' format, but record all the download format options
presented.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize
This capability partially satisfies (just for the Portal)
DMS-LSP-REQ-0014 (Download Data).\\[2\baselineskip]VOTable and CSV
should be supported for now. For full coverage of DMS-LSP-REQ-0017
(Tabular Data Download File Formats), FITS must also be an
option.\\[2\baselineskip]The ability to save a displayed table is
intended to satisfy DMS-PRTL-REQ-0095 (Saving DIsplayed Tabular Data).

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
Verified table saved as VOTable 1.2. ~Options presented shown in image,
and are: IPAC table, CSV, TSV, VOTable-TABLEDATA, VOTable-BINARY2, and
VOTable-FITS.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Issues found executing this step:  \\
{\footnotesize
\begin{itemize}
\item \href{https://jira.lsstcorp.org/browse/DM-32001}{DM-32001}~~Investigate VOTable output format versions available in Firefly

\end{itemize}
}
\begin{tabular}{p{2cm}p{14cm}}
\toprule
Step 17 & Step Execution Status: \textbf{ Pass } \\ \hline
\end{tabular}
 Description \\
{\footnotesize
Click on the `i'-in-a-circle button in the table viewer. ~Use the
resulting dialog to record the URL for the query job result, and to
download the XML file at that URL and save it as an attachment in the
test record.

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Expected Result \\
{\footnotesize
This capability provides a basic implementation of the Portal side of
the requirement DMS-LSP-REQ-0010 (Transfer of Portal Data References to
Notebook).

}
\hdashrule[0.5ex]{\textwidth}{1pt}{3mm}
  Actual Result \\
{\footnotesize
Job URL:
https://data.lsst.cloud/api/tap/async/xz1o60x1tpg1vvv6\\[2\baselineskip]Query
text is reflected in the XML:\\[2\baselineskip]

\begin{itemize}
\tightlist
\item
  SELECT
  objectId,parentObjectId,ra,dec,blendedness,clean,cModelFlux\_flag\_g,cModelFlux\_flag\_i
  ~ ~
  ,cModelFlux\_flag\_r,cModelFlux\_flag\_u,cModelFlux\_flag\_y,cModelFlux\_flag\_z,extendedness,good
  ~ ~
  ,mag\_g\_cModel,mag\_i\_cModel,mag\_r\_cModel,mag\_u\_cModel,mag\_y\_cModel,mag\_z\_cModel,magerr\_g\_cModel
  ~ ~
  ,magerr\_i\_cModel,magerr\_r\_cModel,magerr\_u\_cModel,magerr\_y\_cModel,magerr\_z\_cModel,patch
  ~ ~
  ,snr\_g\_cModel,snr\_i\_cModel,snr\_r\_cModel,snr\_u\_cModel,snr\_y\_cModel,snr\_z\_cModel,tract
  ~FROM dp01\_dc2\_catalogs.object ~WHERE CONTAINS(POINT('ICRS', ra,
  dec),CIRCLE('ICRS', 60, -35, 0.027777777777777776))=1
\end{itemize}

}



\input{appendix.tex}
\end{document}
